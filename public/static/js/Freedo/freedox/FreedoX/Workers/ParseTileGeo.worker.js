(function(e){var n={};function i(t){if(n[t]){return n[t].exports}var r=n[t]={i:t,l:false,exports:{}};e[t].call(r.exports,r,r.exports,i);r.l=true;return r.exports}i.m=e;i.c=n;i.d=function(t,r,e){if(!i.o(t,r)){Object.defineProperty(t,r,{enumerable:true,get:e})}};i.r=function(t){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(t,"__esModule",{value:true})};i.t=function(r,t){if(t&1)r=i(r);if(t&8)return r;if(t&4&&typeof r==="object"&&r&&r.__esModule)return r;var e=Object.create(null);i.r(e);Object.defineProperty(e,"default",{enumerable:true,value:r});if(t&2&&typeof r!="string")for(var n in r)i.d(e,n,function(t){return r[t]}.bind(null,n));return e};i.n=function(r){var t=r&&r.__esModule?function t(){return r["default"]}:function t(){return r};i.d(t,"a",t);return t};i.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)};i.p="";return i(i.s=56)})([function(t,r){var e=t.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();if(typeof __g=="number")__g=e},function(t,r,e){var n=e(39)("wks");var i=e(28);var o=e(0).Symbol;var a=typeof o=="function";var u=t.exports=function(t){return n[t]||(n[t]=a&&o[t]||(a?o:i)("Symbol."+t))};u.store=n},function(t,r){var e=t.exports={version:"2.6.2"};if(typeof __e=="number")__e=e},function(t,r,e){var d=e(0);var y=e(2);var w=e(5);var x=e(8);var g=e(13);var _="prototype";var m=function(t,r,e){var n=t&m.F;var i=t&m.G;var o=t&m.S;var a=t&m.P;var u=t&m.B;var s=t&m.W;var f=i?y:y[r]||(y[r]={});var c=f[_];var v=i?d:o?d[r]:(d[r]||{})[_];var h,l,p;if(i)e=r;for(h in e){l=!n&&v&&v[h]!==undefined;if(l&&g(f,h))continue;p=l?v[h]:e[h];f[h]=i&&typeof v[h]!="function"?e[h]:u&&l?w(p,d):s&&v[h]==p?function(n){var t=function(t,r,e){if(this instanceof n){switch(arguments.length){case 0:return new n;case 1:return new n(t);case 2:return new n(t,r)}return new n(t,r,e)}return n.apply(this,arguments)};t[_]=n[_];return t}(p):a&&typeof p=="function"?w(Function.call,p):p;if(a){(f.virtual||(f.virtual={}))[h]=p;if(t&m.R&&c&&!c[h])x(c,h,p)}}};m.F=1;m.G=2;m.S=4;m.P=8;m.B=16;m.W=32;m.U=64;m.R=128;t.exports=m},function(t,r){t.exports=function(t){return typeof t==="object"?t!==null:typeof t==="function"}},function(t,r,e){var o=e(12);t.exports=function(n,i,t){o(n);if(i===undefined)return n;switch(t){case 1:return function(t){return n.call(i,t)};case 2:return function(t,r){return n.call(i,t,r)};case 3:return function(t,r,e){return n.call(i,t,r,e)}}return function(){return n.apply(i,arguments)}}},function(t,r,e){var i=e(7);var o=e(61);var a=e(62);var u=Object.defineProperty;r.f=e(9)?Object.defineProperty:function t(r,e,n){i(r);e=a(e,true);i(n);if(o)try{return u(r,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");if("value"in n)r[e]=n.value;return r}},function(t,r,e){var n=e(4);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,r,e){var n=e(6);var i=e(25);t.exports=e(9)?function(t,r,e){return n.f(t,r,i(1,e))}:function(t,r,e){t[r]=e;return t}},function(t,r,e){t.exports=!e(16)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(t,r){t.exports={}},function(t,r){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},function(t,r){t.exports=function(t){if(typeof t!="function")throw TypeError(t+" is not a function!");return t}},function(t,r){var e={}.hasOwnProperty;t.exports=function(t,r){return e.call(t,r)}},function(t,r,e){var h=e(5);var l=e(43);var p=e(44);var d=e(7);var y=e(17);var w=e(30);var x={};var g={};var r=t.exports=function(t,r,e,n,i){var o=i?function(){return t}:w(t);var a=h(e,n,r?2:1);var u=0;var s,f,c,v;if(typeof o!="function")throw TypeError(t+" is not iterable!");if(p(o))for(s=y(t.length);s>u;u++){v=r?a(d(f=t[u])[0],f[1]):a(t[u]);if(v===x||v===g)return v}else for(c=o.call(t);!(f=c.next()).done;){v=l(c,a,f.value,r);if(v===x||v===g)return v}};r.BREAK=x;r.RETURN=g},function(t,r,e){var n=e(36);var i=e(21);t.exports=function(t){return n(i(t))}},function(t,r){t.exports=function(t){try{return!!t()}catch(t){return true}}},function(t,r,e){var n=e(26);var i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},function(t,r,e){var n=e(6).f;var i=e(13);var o=e(1)("toStringTag");t.exports=function(t,r,e){if(t&&!i(t=e?t:t.prototype,o))n(t,o,{configurable:true,value:r})}},function(t,r,e){"use strict";var n=e(70)(true);e(22)(String,"String",function(t){this._t=String(t);this._i=0},function(){var t=this._t;var r=this._i;var e;if(r>=t.length)return{value:undefined,done:true};e=n(t,r);this._i+=e.length;return{value:e,done:false}})},function(t,r,e){e(59);var n=e(0);var i=e(8);var o=e(10);var a=e(1)("toStringTag");var u=("CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,"+"DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,"+"MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,"+"SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,"+"TextTrackList,TouchList").split(",");for(var s=0;s<u.length;s++){var f=u[s];var c=n[f];var v=c&&c.prototype;if(v&&!v[a])i(v,a,f);o[f]=o.Array}},function(t,r){t.exports=function(t){if(t==undefined)throw TypeError("Can't call method on  "+t);return t}},function(t,r,e){"use strict";var g=e(23);var _=e(3);var m=e(63);var b=e(8);var S=e(10);var F=e(64);var M=e(18);var P=e(69);var V=e(1)("iterator");var k=!([].keys&&"next"in[].keys());var T="@@iterator";var O="keys";var E="values";var j=function(){return this};t.exports=function(t,r,e,n,i,o,a){F(e,r,n);var u=function(r){if(!k&&r in v)return v[r];switch(r){case O:return function t(){return new e(this,r)};case E:return function t(){return new e(this,r)}}return function t(){return new e(this,r)}};var s=r+" Iterator";var f=i==E;var c=false;var v=t.prototype;var h=v[V]||v[T]||i&&v[i];var l=h||u(i);var p=i?!f?l:u("entries"):undefined;var d=r=="Array"?v.entries||h:h;var y,w,x;if(d){x=P(d.call(new t));if(x!==Object.prototype&&x.next){M(x,s,true);if(!g&&typeof x[V]!="function")b(x,V,j)}}if(f&&h&&h.name!==E){c=true;l=function t(){return h.call(this)}}if((!g||a)&&(k||c||!v[V])){b(v,V,l)}S[r]=l;S[s]=j;if(i){y={values:f?l:u(E),keys:o?l:u(O),entries:p};if(a)for(w in y){if(!(w in v))m(v,w,y[w])}else _(_.P+_.F*(k||c),r,y)}return y}},function(t,r){t.exports=true},function(t,r,e){var n=e(4);var i=e(0).document;var o=n(i)&&n(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,r){t.exports=function(t,r){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:r}}},function(t,r){var e=Math.ceil;var n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:e)(t)}},function(t,r,e){var n=e(39)("keys");var i=e(28);t.exports=function(t){return n[t]||(n[t]=i(t))}},function(t,r){var e=0;var n=Math.random();t.exports=function(t){return"Symbol(".concat(t===undefined?"":t,")_",(++e+n).toString(36))}},function(t,r,e){var n=e(21);t.exports=function(t){return Object(n(t))}},function(t,r,e){var n=e(31);var i=e(1)("iterator");var o=e(10);t.exports=e(2).getIteratorMethod=function(t){if(t!=undefined)return t[i]||t["@@iterator"]||o[n(t)]}},function(t,r,e){var i=e(11);var o=e(1)("toStringTag");var a=i(function(){return arguments}())=="Arguments";var u=function(t,r){try{return t[r]}catch(t){}};t.exports=function(t){var r,e,n;return t===undefined?"Undefined":t===null?"Null":typeof(e=u(r=Object(t),o))=="string"?e:a?i(r):(n=i(r))=="Object"&&typeof r.callee=="function"?"Arguments":n}},function(t,r,e){var i=e(8);t.exports=function(t,r,e){for(var n in r){if(e&&t[n])t[n]=r[n];else i(t,n,r[n])}return t}},function(t,r){t.exports=function(t,r,e,n){if(!(t instanceof r)||n!==undefined&&n in t){throw TypeError(e+": incorrect invocation!")}return t}},function(t,r,e){"use strict";var i=e(12);function n(t){var e,n;this.promise=new t(function(t,r){if(e!==undefined||n!==undefined)throw TypeError("Bad Promise constructor");e=t;n=r});this.resolve=i(e);this.reject=i(n)}t.exports.f=function(t){return new n(t)}},function(t,r){t.exports=function(t,r){return{value:r,done:!!t}}},function(t,r,e){var n=e(11);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return n(t)=="String"?t.split(""):Object(t)}},function(t,r,o){var i=o(7);var a=o(65);var u=o(40);var s=o(27)("IE_PROTO");var f=function(){};var c="prototype";var v=function(){var t=o(24)("iframe");var r=u.length;var e="<";var n=">";var i;t.style.display="none";o(41).appendChild(t);t.src="javascript:";i=t.contentWindow.document;i.open();i.write(e+"script"+n+"document.F=Object"+e+"/script"+n);i.close();v=i.F;while(r--)delete v[c][u[r]];return v()};t.exports=Object.create||function t(r,e){var n;if(r!==null){f[c]=i(r);n=new f;f[c]=null;n[s]=r}else n=v();return e===undefined?n:a(n,e)}},function(t,r,e){var n=e(66);var i=e(40);t.exports=Object.keys||function t(r){return n(r,i)}},function(t,r,e){var n=e(2);var i=e(0);var o="__core-js_shared__";var a=i[o]||(i[o]={});(t.exports=function(t,r){return a[t]||(a[t]=r!==undefined?r:{})})("versions",[]).push({version:n.version,mode:e(23)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,r){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,r,e){var n=e(0).document;t.exports=n&&n.documentElement},function(t,r,e){t.exports={default:e(77),__esModule:true}},function(t,r,e){var o=e(7);t.exports=function(r,t,e,n){try{return n?t(o(e)[0],e[1]):t(e)}catch(t){var i=r["return"];if(i!==undefined)o(i.call(r));throw t}}},function(t,r,e){var n=e(10);var i=e(1)("iterator");var o=Array.prototype;t.exports=function(t){return t!==undefined&&(n.Array===t||o[i]===t)}},function(t,r,e){var o=e(1)("iterator");var a=false;try{var n=[7][o]();n["return"]=function(){a=true};Array.from(n,function(){throw 2})}catch(t){}t.exports=function(t,r){if(!r&&!a)return false;var e=false;try{var n=[7];var i=n[o]();i.next=function(){return{done:e=true}};n[o]=function(){return i};t(n)}catch(t){}return e}},function(t,r){},function(t,r,e){"use strict";var n=e(0);var i=e(2);var o=e(6);var a=e(9);var u=e(1)("species");t.exports=function(t){var r=typeof i[t]=="function"?i[t]:n[t];if(a&&r&&!r[u])o.f(r,u,{configurable:true,get:function(){return this}})}},function(t,r,e){var n=e(28)("meta");var i=e(4);var o=e(13);var a=e(6).f;var u=0;var s=Object.isExtensible||function(){return true};var f=!e(16)(function(){return s(Object.preventExtensions({}))});var c=function(t){a(t,n,{value:{i:"O"+ ++u,w:{}}})};var v=function(t,r){if(!i(t))return typeof t=="symbol"?t:(typeof t=="string"?"S":"P")+t;if(!o(t,n)){if(!s(t))return"F";if(!r)return"E";c(t)}return t[n].i};var h=function(t,r){if(!o(t,n)){if(!s(t))return true;if(!r)return false;c(t)}return t[n].w};var l=function(t){if(f&&p.NEED&&s(t)&&!o(t,n))c(t);return t};var p=t.exports={KEY:n,NEED:false,fastKey:v,getWeak:h,onFreeze:l}},function(t,r,e){var n=e(4);t.exports=function(t,r){if(!n(t)||t._t!==r)throw TypeError("Incompatible receiver, "+r+" required!");return t}},function(t,r,e){var i=e(7);var o=e(12);var a=e(1)("species");t.exports=function(t,r){var e=i(t).constructor;var n;return e===undefined||(n=i(e)[a])==undefined?r:o(n)}},function(t,r,e){var n=e(5);var i=e(99);var o=e(41);var a=e(24);var u=e(0);var s=u.process;var f=u.setImmediate;var c=u.clearImmediate;var v=u.MessageChannel;var h=u.Dispatch;var l=0;var p={};var d="onreadystatechange";var y,w,x;var g=function(){var t=+this;if(p.hasOwnProperty(t)){var r=p[t];delete p[t];r()}};var _=function(t){g.call(t.data)};if(!f||!c){f=function t(r){var e=[];var n=1;while(arguments.length>n)e.push(arguments[n++]);p[++l]=function(){i(typeof r=="function"?r:Function(r),e)};y(l);return l};c=function t(r){delete p[r]};if(e(11)(s)=="process"){y=function(t){s.nextTick(n(g,t,1))}}else if(h&&h.now){y=function(t){h.now(n(g,t,1))}}else if(v){w=new v;x=w.port2;w.port1.onmessage=_;y=n(x.postMessage,x,1)}else if(u.addEventListener&&typeof postMessage=="function"&&!u.importScripts){y=function(t){u.postMessage(t+"","*")};u.addEventListener("message",_,false)}else if(d in a("script")){y=function(t){o.appendChild(a("script"))[d]=function(){o.removeChild(this);g.call(t)}}}else{y=function(t){setTimeout(n(g,t,1),0)}}}t.exports={set:f,clear:c}},function(t,r){t.exports=function(t){try{return{e:false,v:t()}}catch(t){return{e:true,v:t}}}},function(t,r,e){var i=e(7);var o=e(4);var a=e(34);t.exports=function(t,r){i(t);if(o(r)&&r.constructor===t)return r;var e=a.f(t);var n=e.resolve;n(r);return e.promise}},function(t,r,e){"use strict";var n=e(55);t.exports=i;function i(t,r){this.version=1;this.name=null;this.extent=4096;this.length=0;this._pbf=t;this._keys=[];this._values=[];this._features=[];t.readFields(o,this,r);this.length=this._features.length}function o(t,r,e){if(t===15)r.version=e.readVarint();else if(t===1)r.name=e.readString();else if(t===5)r.extent=e.readVarint();else if(t===2)r._features.push(e.pos);else if(t===3)r._keys.push(e.readString());else if(t===4)r._values.push(a(e))}function a(t){var r=null,e=t.readVarint()+t.pos;while(t.pos<e){var n=t.readVarint()>>3;r=n===1?t.readString():n===2?t.readFloat():n===3?t.readDouble():n===4?t.readVarint64():n===5?t.readVarint():n===6?t.readSVarint():n===7?t.readBoolean():null}return r}i.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var r=this._pbf.readVarint()+this._pbf.pos;return new n(this._pbf,r,this.extent,this._keys,this._values)}},function(t,r,e){"use strict";var f=e(107);t.exports=l;function l(t,r,e,n,i){this.properties={};this.extent=e;this.type=0;this._pbf=t;this._geometry=-1;this._keys=n;this._values=i;t.readFields(o,this,r)}function o(t,r,e){if(t==1)r.id=e.readVarint();else if(t==2)n(e,r);else if(t==3)r.type=e.readVarint();else if(t==4)r._geometry=e.pos}function n(t,r){var e=t.readVarint()+t.pos;while(t.pos<e){var n=r._keys[t.readVarint()],i=r._values[t.readVarint()];r.properties[n]=i}}l.types=["Unknown","Point","LineString","Polygon"];l.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;var r=t.readVarint()+t.pos,e=1,n=0,i=0,o=0,a=[],u;while(t.pos<r){if(n<=0){var s=t.readVarint();e=s&7;n=s>>3}n--;if(e===1||e===2){i+=t.readSVarint();o+=t.readSVarint();if(e===1){if(u)a.push(u);u=[]}u.push(new f(i,o))}else if(e===7){if(u){u.push(u[0].clone())}}else{throw new Error("unknown command "+e)}}if(u)a.push(u);return a};l.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;var r=t.readVarint()+t.pos,e=1,n=0,i=0,o=0,a=Infinity,u=-Infinity,s=Infinity,f=-Infinity;while(t.pos<r){if(n<=0){var c=t.readVarint();e=c&7;n=c>>3}n--;if(e===1||e===2){i+=t.readSVarint();o+=t.readSVarint();if(i<a)a=i;if(i>u)u=i;if(o<s)s=o;if(o>f)f=o}else if(e!==7){throw new Error("unknown command "+e)}}return[a,s,u,f]};l.prototype.toGeoJSON=function(t,r,e){var i=this.extent*Math.pow(2,e),o=this.extent*t,a=this.extent*r,n=this.loadGeometry(),u=l.types[this.type],s,f;function c(t){for(var r=0;r<t.length;r++){var e=t[r],n=180-(e.y+a)*360/i;t[r]=[(e.x+o)*360/i-180,360/Math.PI*Math.atan(Math.exp(n*Math.PI/180))-90]}}switch(this.type){case 1:var v=[];for(s=0;s<n.length;s++){v[s]=n[s][0]}n=v;c(n);break;case 2:for(s=0;s<n.length;s++){c(n[s])}break;case 3:n=p(n);for(s=0;s<n.length;s++){for(f=0;f<n[s].length;f++){c(n[s][f])}}break}if(n.length===1){n=n[0]}else{u="Multi"+u}var h={type:"Feature",geometry:{type:u,coordinates:n},properties:this.properties};if("id"in this){h.id=this.id}return h};function p(t){var r=t.length;if(r<=1)return[t];var e=[],n,i;for(var o=0;o<r;o++){var a=u(t[o]);if(a===0)continue;if(i===undefined)i=a<0;if(i===a<0){if(n)e.push(n);n=[t[o]]}else{n.push(t[o])}}if(n)e.push(n);return e}function u(t){var r=0;for(var e=0,n=t.length,i=n-1,o,a;e<n;i=e++){o=t[e];a=t[i];r+=(a.x-o.x)*(o.y+a.y)}return r}},function(t,r,e){"use strict";var n=e(57);var y=d(n);var i=e(72);var w=d(i);var o=e(42);var a=d(o);var u=e(80);var s=d(u);var f=e(96);var v=d(f);var c=e(104);var x=d(c);var h=e(105);var l=e(108);var p=d(l);function d(t){return t&&t.__esModule?t:{default:t}}importScripts("../../../freedo/Freedo/Freedo.js");var g={};function _(t,r){g[t]=r}function m(r,t){var e=g[r];if(typeof e!="function")throw new Error("指定的method非法！");var n=e.apply(undefined,(0,x.default)(t));if(n instanceof v.default)n.then(function(t){postMessage({result:t,method:r})}).catch(function(t){return console.error(t)});else postMessage({result:n,method:r})}var b=undefined;var S=19;var F=14;var M=undefined;var P=16;var V=3e3;var k={};var T=[];var O=new s.default;self.onmessage=function(t){var r=t.data;m(r.method,r.args)};_("setAttr",E);function E(t){b=Freedo.defaultValue(t.urlTemplate,b);M=Freedo.defaultValue(t.vectorLayers,M);F=Freedo.defaultValue(t.minimumLevel,F);S=Freedo.defaultValue(t.maximumLevel,S)}_("requestTileGeo",j);function j(t,r,e){if(e<16)return;var n=P-e;var u=void 0,s=void 0,f=void 0,c=void 0;if(n>0){u=(t+1)*Math.pow(2,n);s=(r+1)*Math.pow(2,n);f=t*Math.pow(2,n);c=r*Math.pow(2,n)}else if(n<=0){f=parseInt(t*Math.pow(2,n)),u=f+1;c=parseInt(r*Math.pow(2,n)),s=c+1}return new v.default(function(r,t){var e=void 0,n=0;for(var i=f;i<u;i++){for(var o=c;o<s;o++){var a=A([i,o,P]);if(a instanceof v.default){n++;a.then(function(t){n--;if(n==0)r(t)})}else e=a}}if(n==0)r(e)})}_("loadTileGeo",A);function A(i){var o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:W(i);if(!o)return new Error("未设置urlTemplate或url参数");if(i[2]!=16)return T;var t=k[i.join(",")];if(!t){return new v.default(function(e,n){Freedo.Resource.fetchArrayBuffer({url:o}).then(function(t){if(!t)n();var r=new h.VectorTile(new p.default(t));L.apply(undefined,[r.layers].concat((0,x.default)(i)));e(A(i,o))}).otherwise(function(t){return n(t)})})}if(t.length<1)return T;t.forEach(function(t){return O.add(t)});T=(0,a.default)(O);D(T);console.log(i[2]);return T}function L(t,r,e,n){var i=r+","+e+","+n;var o=(0,w.default)(t);if(M)o=o.filter(function(t){return M.indexOf(t.name)>-1});var a=[];var u=true;var s=false;var f=undefined;try{for(var c=(0,y.default)(o),v;!(u=(v=c.next()).done);u=true){var h=v.value;for(var l=0;l<h.length;l++){var p=h.feature(l);var d=p.toGeoJSON(r,e,n);a.push.apply(a,(0,x.default)(I(d)))}}}catch(t){s=true;f=t}finally{try{if(!u&&c.return){c.return()}}finally{if(s){throw f}}}k[i]=a}_("parseGeoJsons",B);function B(t,r){var e=[];for(var n=0;n<t.length;n++){var i=t[n];e.push.apply(e,(0,x.default)(I(i)))}return{geoInstances:e,xyz:r}}function I(t){var r=t.geometry,e=r.coordinates,n=t.properties.height,i=[];switch(r.type){case"Polygon":i.push(C(e,n));break;case"MultiPlygon":var o=true;var a=false;var u=undefined;try{for(var s=(0,y.default)(e),f;!(o=(f=s.next()).done);o=true){var c=f.value;i.push(C(e,n))}}catch(t){a=true;u=t}finally{try{if(!o&&s.return){s.return()}}finally{if(a){throw u}}}break;default:break}return i}function C(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Math.random()*200;var e=t.shift().map(function(t){var r;return(r=Freedo.Cartesian3).fromDegrees.apply(r,(0,x.default)(t))}),n=[];var i=new Freedo.PolygonHierarchy(e,n);var o=true;var a=false;var u=undefined;try{for(var s=(0,y.default)(t),f;!(o=(f=s.next()).done);o=true){var c=f.value;var v=c.map(function(t){var r;return(r=Freedo.Cartesian3).fromDegrees.apply(r,(0,x.default)(t))});n.push(new Freedo.PolygonHierarchy(v))}}catch(t){a=true;u=t}finally{try{if(!o&&s.return){s.return()}}finally{if(a){throw u}}}var h=new Freedo.PolygonGeometry({polygonHierarchy:i,extrudedHeight:r});var l=Freedo.PolygonGeometry.createGeometry(h);return new Freedo.GeometryInstance({geometry:l})}_("test",N);function N(t){return t}function D(t){while(t.length>V){t.shift()}}function G(t,r,e,i){R(t,r,e,n);z(t,r,e,n);function n(t,r,e){var n=k[t+","+r+","+e];if(!n)return;i=i.filter(function(t){return n.indexOf(t)<0})}return i}function R(t,r,e,n){if(e<=F)return;console.log(e,F,(new Date).getMilliseconds());var i=parseInt(t/2),o=parseInt(r/2),a=e-1;if(typeof n=="function")n(i,o,a);R(i,o,a,n)}function W(t){if(!b)return;return b.replace("{x}",t[0]).replace("{y}",t[1]).replace("{z}",t[2])}function z(t,r,e,n){if(e>=S)return;var i=t*2,o=t*2+1,a=r*2,u=r*2+1;e+=1;n(i,a,e);n(i,u,e);n(o,a,e);n(o,u,e);console.log(e,S,(new Date).getMilliseconds());z(i,a,e,n);z(i,u,e,n);z(o,a,e,n);z(o,u,e,n)}},function(t,r,e){t.exports={default:e(58),__esModule:true}},function(t,r,e){e(20);e(19);t.exports=e(71)},function(t,r,e){"use strict";var n=e(60);var i=e(35);var o=e(10);var a=e(15);t.exports=e(22)(Array,"Array",function(t,r){this._t=a(t);this._i=0;this._k=r},function(){var t=this._t;var r=this._k;var e=this._i++;if(!t||e>=t.length){this._t=undefined;return i(1)}if(r=="keys")return i(0,e);if(r=="values")return i(0,t[e]);return i(0,[e,t[e]])},"values");o.Arguments=o.Array;n("keys");n("values");n("entries")},function(t,r){t.exports=function(){}},function(t,r,e){t.exports=!e(9)&&!e(16)(function(){return Object.defineProperty(e(24)("div"),"a",{get:function(){return 7}}).a!=7})},function(t,r,e){var i=e(4);t.exports=function(t,r){if(!i(t))return t;var e,n;if(r&&typeof(e=t.toString)=="function"&&!i(n=e.call(t)))return n;if(typeof(e=t.valueOf)=="function"&&!i(n=e.call(t)))return n;if(!r&&typeof(e=t.toString)=="function"&&!i(n=e.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},function(t,r,e){t.exports=e(8)},function(t,r,e){"use strict";var n=e(37);var i=e(25);var o=e(18);var a={};e(8)(a,e(1)("iterator"),function(){return this});t.exports=function(t,r,e){t.prototype=n(a,{next:i(1,e)});o(t,r+" Iterator")}},function(t,r,e){var u=e(6);var s=e(7);var f=e(38);t.exports=e(9)?Object.defineProperties:function t(r,e){s(r);var n=f(e);var i=n.length;var o=0;var a;while(i>o)u.f(r,a=n[o++],e[a]);return r}},function(t,r,e){var a=e(13);var u=e(15);var s=e(67)(false);var f=e(27)("IE_PROTO");t.exports=function(t,r){var e=u(t);var n=0;var i=[];var o;for(o in e)if(o!=f)a(e,o)&&i.push(o);while(r.length>n)if(a(e,o=r[n++])){~s(i,o)||i.push(o)}return i}},function(t,r,e){var s=e(15);var f=e(17);var c=e(68);t.exports=function(u){return function(t,r,e){var n=s(t);var i=f(n.length);var o=c(e,i);var a;if(u&&r!=r)while(i>o){a=n[o++];if(a!=a)return true}else for(;i>o;o++)if(u||o in n){if(n[o]===r)return u||o||0}return!u&&-1}}},function(t,r,e){var n=e(26);var i=Math.max;var o=Math.min;t.exports=function(t,r){t=n(t);return t<0?i(t+r,0):o(t,r)}},function(t,r,e){var n=e(13);var i=e(29);var o=e(27)("IE_PROTO");var a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){t=i(t);if(n(t,o))return t[o];if(typeof t.constructor=="function"&&t instanceof t.constructor){return t.constructor.prototype}return t instanceof Object?a:null}},function(t,r,e){var s=e(26);var f=e(21);t.exports=function(u){return function(t,r){var e=String(f(t));var n=s(r);var i=e.length;var o,a;if(n<0||n>=i)return u?"":undefined;o=e.charCodeAt(n);return o<55296||o>56319||n+1===i||(a=e.charCodeAt(n+1))<56320||a>57343?u?e.charAt(n):o:u?e.slice(n,n+2):(o-55296<<10)+(a-56320)+65536}}},function(t,r,e){var n=e(7);var i=e(30);t.exports=e(2).getIterator=function(t){var r=i(t);if(typeof r!="function")throw TypeError(t+" is not iterable!");return n(r.call(t))}},function(t,r,e){t.exports={default:e(73),__esModule:true}},function(t,r,e){e(74);t.exports=e(2).Object.values},function(t,r,e){var n=e(3);var i=e(75)(false);n(n.S,"Object",{values:function t(r){return i(r)}})},function(t,r,e){var s=e(38);var f=e(15);var c=e(76).f;t.exports=function(u){return function(t){var r=f(t);var e=s(r);var n=e.length;var i=0;var o=[];var a;while(n>i)if(c.call(r,a=e[i++])){o.push(u?[a,r[a]]:r[a])}return o}}},function(t,r){r.f={}.propertyIsEnumerable},function(t,r,e){e(19);e(78);t.exports=e(2).Array.from},function(t,r,e){"use strict";var l=e(5);var n=e(3);var p=e(29);var d=e(43);var y=e(44);var w=e(17);var x=e(79);var g=e(30);n(n.S+n.F*!e(45)(function(t){Array.from(t)}),"Array",{from:function t(r){var e=p(r);var n=typeof this=="function"?this:Array;var i=arguments.length;var o=i>1?arguments[1]:undefined;var a=o!==undefined;var u=0;var s=g(e);var f,c,v,h;if(a)o=l(o,i>2?arguments[2]:undefined,2);if(s!=undefined&&!(n==Array&&y(s))){for(h=s.call(e),c=new n;!(v=h.next()).done;u++){x(c,u,a?d(h,o,[v.value,u],true):v.value)}}else{f=w(e.length);for(c=new n(f);f>u;u++){x(c,u,a?o(e[u],u):e[u])}}c.length=u;return c}})},function(t,r,e){"use strict";var n=e(6);var i=e(25);t.exports=function(t,r,e){if(r in t)n.f(t,r,i(0,e));else t[r]=e}},function(t,r,e){t.exports={default:e(81),__esModule:true}},function(t,r,e){e(46);e(19);e(20);e(82);e(89);e(92);e(94);t.exports=e(2).Set},function(t,r,e){"use strict";var n=e(83);var i=e(49);var o="Set";t.exports=e(84)(o,function(r){return function t(){return r(this,arguments.length>0?arguments[0]:undefined)}},{add:function t(r){return n.def(i(this,o),r=r===0?0:r,r)}},n)},function(t,r,e){"use strict";var a=e(6).f;var u=e(37);var s=e(32);var f=e(5);var c=e(33);var v=e(14);var n=e(22);var i=e(35);var o=e(47);var h=e(9);var l=e(48).fastKey;var p=e(49);var d=h?"_s":"size";var y=function(t,r){var e=l(r);var n;if(e!=="F")return t._i[e];for(n=t._f;n;n=n.n){if(n.k==r)return n}};t.exports={getConstructor:function(t,o,e,n){var i=t(function(t,r){c(t,i,o,"_i");t._t=o;t._i=u(null);t._f=undefined;t._l=undefined;t[d]=0;if(r!=undefined)v(r,e,t[n],t)});s(i.prototype,{clear:function t(){for(var r=p(this,o),e=r._i,n=r._f;n;n=n.n){n.r=true;if(n.p)n.p=n.p.n=undefined;delete e[n.i]}r._f=r._l=undefined;r[d]=0},delete:function(t){var r=p(this,o);var e=y(r,t);if(e){var n=e.n;var i=e.p;delete r._i[e.i];e.r=true;if(i)i.n=n;if(n)n.p=i;if(r._f==e)r._f=n;if(r._l==e)r._l=i;r[d]--}return!!e},forEach:function t(r){p(this,o);var e=f(r,arguments.length>1?arguments[1]:undefined,3);var n;while(n=n?n.n:this._f){e(n.v,n.k,this);while(n&&n.r)n=n.p}},has:function t(r){return!!y(p(this,o),r)}});if(h)a(i.prototype,"size",{get:function(){return p(this,o)[d]}});return i},def:function(t,r,e){var n=y(t,r);var i,o;if(n){n.v=e}else{t._l=n={i:o=l(r,true),k:r,v:e,p:i=t._l,n:undefined,r:false};if(!t._f)t._f=n;if(i)i.n=n;t[d]++;if(o!=="F")t._i[o]=n}return t},getEntry:y,setStrong:function(t,e,r){n(t,e,function(t,r){this._t=p(t,e);this._k=r;this._l=undefined},function(){var t=this;var r=t._k;var e=t._l;while(e&&e.r)e=e.p;if(!t._t||!(t._l=e=e?e.n:t._t._f)){t._t=undefined;return i(1)}if(r=="keys")return i(0,e.k);if(r=="values")return i(0,e.v);return i(0,[e.k,e.v])},r?"entries":"values",!r,true);o(e)}}},function(t,r,e){"use strict";var v=e(0);var h=e(3);var l=e(48);var p=e(16);var d=e(8);var y=e(32);var w=e(14);var x=e(33);var g=e(4);var _=e(18);var m=e(6).f;var b=e(85)(0);var S=e(9);t.exports=function(e,t,r,n,i,o){var a=v[e];var u=a;var s=i?"set":"add";var f=u&&u.prototype;var c={};if(!S||typeof u!="function"||!(o||f.forEach&&!p(function(){(new u).entries().next()}))){u=n.getConstructor(t,e,i,s);y(u.prototype,r);l.NEED=true}else{u=t(function(t,r){x(t,u,e,"_c");t._c=new a;if(r!=undefined)w(r,i,t[s],t)});b("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(n){var i=n=="add"||n=="set";if(n in f&&!(o&&n=="clear"))d(u.prototype,n,function(t,r){x(this,u,n);if(!i&&o&&!g(t))return n=="get"?undefined:false;var e=this._c[n](t===0?0:t,r);return i?this:e})});o||m(u.prototype,"size",{get:function(){return this._c.size}})}_(u,e);c[e]=u;h(h.G+h.W+h.F,c);if(!o)n.setStrong(u,e,i);return u}},function(t,r,e){var g=e(5);var _=e(36);var m=e(29);var b=e(17);var n=e(86);t.exports=function(v,t){var h=v==1;var l=v==2;var p=v==3;var d=v==4;var y=v==6;var w=v==5||y;var x=t||n;return function(t,r,e){var n=m(t);var i=_(n);var o=g(r,e,3);var a=b(i.length);var u=0;var s=h?x(t,a):l?x(t,0):undefined;var f,c;for(;a>u;u++)if(w||u in i){f=i[u];c=o(f,u,n);if(v){if(h)s[u]=c;else if(c)switch(v){case 3:return true;case 5:return f;case 6:return u;case 2:s.push(f)}else if(d)return false}}return y?-1:p||d?d:s}}},function(t,r,e){var n=e(87);t.exports=function(t,r){return new(n(t))(r)}},function(t,r,e){var n=e(4);var i=e(88);var o=e(1)("species");t.exports=function(t){var r;if(i(t)){r=t.constructor;if(typeof r=="function"&&(r===Array||i(r.prototype)))r=undefined;if(n(r)){r=r[o];if(r===null)r=undefined}}return r===undefined?Array:r}},function(t,r,e){var n=e(11);t.exports=Array.isArray||function t(r){return n(r)=="Array"}},function(t,r,e){var n=e(3);n(n.P+n.R,"Set",{toJSON:e(90)("Set")})},function(t,r,e){var n=e(31);var i=e(91);t.exports=function(r){return function t(){if(n(this)!=r)throw TypeError(r+"#toJSON isn't generic");return i(this)}}},function(t,r,e){var n=e(14);t.exports=function(t,r){var e=[];n(t,false,e.push,e,r);return e}},function(t,r,e){e(93)("Set")},function(t,r,e){"use strict";var n=e(3);t.exports=function(t){n(n.S,t,{of:function t(){var r=arguments.length;var e=new Array(r);while(r--)e[r]=arguments[r];return new this(e)}})}},function(t,r,e){e(95)("Set")},function(t,r,e){"use strict";var n=e(3);var u=e(12);var s=e(5);var f=e(14);t.exports=function(t){n(n.S,t,{from:function t(r){var e=arguments[1];var n,i,o,a;u(this);n=e!==undefined;if(n)u(e);if(r==undefined)return new this;i=[];if(n){o=0;a=s(e,arguments[2],2);f(r,false,function(t){i.push(a(t,o++))})}else{f(r,false,i.push,i)}return new this(i)}})}},function(t,r,e){t.exports={default:e(97),__esModule:true}},function(t,r,e){e(46);e(19);e(20);e(98);e(102);e(103);t.exports=e(2).Promise},function(t,r,e){"use strict";var n=e(23);var a=e(0);var i=e(5);var o=e(31);var u=e(3);var s=e(4);var f=e(12);var c=e(33);var v=e(14);var h=e(50);var l=e(51).set;var p=e(100)();var d=e(34);var y=e(52);var w=e(101);var x=e(53);var g="Promise";var _=a.TypeError;var m=a.process;var b=m&&m.versions;var S=b&&b.v8||"";var F=a[g];var M=o(m)=="process";var P=function(){};var V,k,T,O;var E=k=d.f;var j=!!function(){try{var t=F.resolve(1);var r=(t.constructor={})[e(1)("species")]=function(t){t(P,P)};return(M||typeof PromiseRejectionEvent=="function")&&t.then(P)instanceof r&&S.indexOf("6.6")!==0&&w.indexOf("Chrome/66")===-1}catch(t){}}();var A=function(t){var r;return s(t)&&typeof(r=t.then)=="function"?r:false};var L=function(c,e){if(c._n)return;c._n=true;var n=c._c;p(function(){var s=c._v;var f=c._s==1;var t=0;var r=function(t){var r=f?t.ok:t.fail;var e=t.resolve;var n=t.reject;var i=t.domain;var o,a,u;try{if(r){if(!f){if(c._h==2)C(c);c._h=1}if(r===true)o=s;else{if(i)i.enter();o=r(s);if(i){i.exit();u=true}}if(o===t.promise){n(_("Promise-chain cycle"))}else if(a=A(o)){a.call(o,e,n)}else e(o)}else n(s)}catch(t){if(i&&!u)i.exit();n(t)}};while(n.length>t)r(n[t++]);c._c=[];c._n=false;if(e&&!c._h)B(c)})};var B=function(o){l.call(a,function(){var t=o._v;var r=I(o);var e,n,i;if(r){e=y(function(){if(M){m.emit("unhandledRejection",t,o)}else if(n=a.onunhandledrejection){n({promise:o,reason:t})}else if((i=a.console)&&i.error){i.error("Unhandled promise rejection",t)}});o._h=M||I(o)?2:1}o._a=undefined;if(r&&e.e)throw e.v})};var I=function(t){return t._h!==1&&(t._a||t._c).length===0};var C=function(r){l.call(a,function(){var t;if(M){m.emit("rejectionHandled",r)}else if(t=a.onrejectionhandled){t({promise:r,reason:r._v})}})};var N=function(t){var r=this;if(r._d)return;r._d=true;r=r._w||r;r._v=t;r._s=2;if(!r._a)r._a=r._c.slice();L(r,true)};var D=function(t){var e=this;var n;if(e._d)return;e._d=true;e=e._w||e;try{if(e===t)throw _("Promise can't be resolved itself");if(n=A(t)){p(function(){var r={_w:e,_d:false};try{n.call(t,i(D,r,1),i(N,r,1))}catch(t){N.call(r,t)}})}else{e._v=t;e._s=1;L(e,false)}}catch(t){N.call({_w:e,_d:false},t)}};if(!j){F=function t(r){c(this,F,g,"_h");f(r);V.call(this);try{r(i(D,this,1),i(N,this,1))}catch(t){N.call(this,t)}};V=function t(r){this._c=[];this._a=undefined;this._s=0;this._d=false;this._v=undefined;this._h=0;this._n=false};V.prototype=e(32)(F.prototype,{then:function t(r,e){var n=E(h(this,F));n.ok=typeof r=="function"?r:true;n.fail=typeof e=="function"&&e;n.domain=M?m.domain:undefined;this._c.push(n);if(this._a)this._a.push(n);if(this._s)L(this,false);return n.promise},catch:function(t){return this.then(undefined,t)}});T=function(){var t=new V;this.promise=t;this.resolve=i(D,t,1);this.reject=i(N,t,1)};d.f=E=function(t){return t===F||t===O?new T(t):k(t)}}u(u.G+u.W+u.F*!j,{Promise:F});e(18)(F,g);e(47)(g);O=e(2)[g];u(u.S+u.F*!j,g,{reject:function t(r){var e=E(this);var n=e.reject;n(r);return e.promise}});u(u.S+u.F*(n||!j),g,{resolve:function t(r){return x(n&&this===O?F:this,r)}});u(u.S+u.F*!(j&&e(45)(function(t){F.all(t)["catch"](P)})),g,{all:function t(r){var a=this;var e=E(a);var u=e.resolve;var s=e.reject;var n=y(function(){var n=[];var i=0;var o=1;v(r,false,function(t){var r=i++;var e=false;n.push(undefined);o++;a.resolve(t).then(function(t){if(e)return;e=true;n[r]=t;--o||u(n)},s)});--o||u(n)});if(n.e)s(n.v);return e.promise},race:function t(r){var e=this;var n=E(e);var i=n.reject;var o=y(function(){v(r,false,function(t){e.resolve(t).then(n.resolve,i)})});if(o.e)i(o.v);return n.promise}})},function(t,r){t.exports=function(t,r,e){var n=e===undefined;switch(r.length){case 0:return n?t():t.call(e);case 1:return n?t(r[0]):t.call(e,r[0]);case 2:return n?t(r[0],r[1]):t.call(e,r[0],r[1]);case 3:return n?t(r[0],r[1],r[2]):t.call(e,r[0],r[1],r[2]);case 4:return n?t(r[0],r[1],r[2],r[3]):t.call(e,r[0],r[1],r[2],r[3])}return t.apply(e,r)}},function(t,r,e){var u=e(0);var s=e(51).set;var f=u.MutationObserver||u.WebKitMutationObserver;var c=u.process;var v=u.Promise;var h=e(11)(c)=="process";t.exports=function(){var e,n,i;var t=function(){var t,r;if(h&&(t=c.domain))t.exit();while(e){r=e.fn;e=e.next;try{r()}catch(t){if(e)i();else n=undefined;throw t}}n=undefined;if(t)t.enter()};if(h){i=function(){c.nextTick(t)}}else if(f&&!(u.navigator&&u.navigator.standalone)){var r=true;var o=document.createTextNode("");new f(t).observe(o,{characterData:true});i=function(){o.data=r=!r}}else if(v&&v.resolve){var a=v.resolve(undefined);i=function(){a.then(t)}}else{i=function(){s.call(u,t)}}return function(t){var r={fn:t,next:undefined};if(n)n.next=r;if(!e){e=r;i()}n=r}}},function(t,r,e){var n=e(0);var i=n.navigator;t.exports=i&&i.userAgent||""},function(t,r,e){"use strict";var n=e(3);var i=e(2);var o=e(0);var a=e(50);var u=e(53);n(n.P+n.R,"Promise",{finally:function(r){var e=a(this,i.Promise||o.Promise);var t=typeof r=="function";return this.then(t?function(t){return u(e,r()).then(function(){return t})}:r,t?function(t){return u(e,r()).then(function(){throw t})}:r)}})},function(t,r,e){"use strict";var n=e(3);var i=e(34);var o=e(52);n(n.S,"Promise",{try:function(t){var r=i.f(this);var e=o(t);(e.e?r.reject:r.resolve)(e.v);return r.promise}})},function(t,r,e){"use strict";r.__esModule=true;var n=e(42);var i=o(n);function o(t){return t&&t.__esModule?t:{default:t}}r.default=function(t){if(Array.isArray(t)){for(var r=0,e=Array(t.length);r<t.length;r++){e[r]=t[r]}return e}else{return(0,i.default)(t)}}},function(t,r,e){t.exports.VectorTile=e(106);t.exports.VectorTileFeature=e(55);t.exports.VectorTileLayer=e(54)},function(t,r,e){"use strict";var i=e(54);t.exports=n;function n(t,r){this.layers=t.readFields(o,{},r)}function o(t,r,e){if(t===3){var n=new i(e,e.readVarint()+e.pos);if(n.length)r[n.name]=n}}},function(t,r,e){"use strict";t.exports=n;function n(t,r){this.x=t;this.y=r}n.prototype={clone:function(){return new n(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,r){return this.clone()._rotateAround(t,r)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var r=t.x-this.x,e=t.y-this.y;return r*r+e*e},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,r){return Math.atan2(this.x*r-this.y*t,this.x*t+this.y*r)},_matMult:function(t){var r=t[0]*this.x+t[1]*this.y,e=t[2]*this.x+t[3]*this.y;this.x=r;this.y=e;return this},_add:function(t){this.x+=t.x;this.y+=t.y;return this},_sub:function(t){this.x-=t.x;this.y-=t.y;return this},_mult:function(t){this.x*=t;this.y*=t;return this},_div:function(t){this.x/=t;this.y/=t;return this},_multByPoint:function(t){this.x*=t.x;this.y*=t.y;return this},_divByPoint:function(t){this.x/=t.x;this.y/=t.y;return this},_unit:function(){this._div(this.mag());return this},_perp:function(){var t=this.y;this.y=this.x;this.x=-t;return this},_rotate:function(t){var r=Math.cos(t),e=Math.sin(t),n=r*this.x-e*this.y,i=e*this.x+r*this.y;this.x=n;this.y=i;return this},_rotateAround:function(t,r){var e=Math.cos(t),n=Math.sin(t),i=r.x+e*(this.x-r.x)-n*(this.y-r.y),o=r.y+n*(this.x-r.x)+e*(this.y-r.y);this.x=i;this.y=o;return this},_round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this}};n.convert=function(t){if(t instanceof n){return t}if(Array.isArray(t)){return new n(t[0],t[1])}return t}},function(t,r,e){"use strict";t.exports=i;var n=e(109);function i(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0);this.pos=0;this.type=0;this.length=this.buf.length}i.Varint=0;i.Fixed64=1;i.Bytes=2;i.Fixed32=5;var o=(1<<16)*(1<<16),a=1/o;i.prototype={destroy:function(){this.buf=null},readFields:function(t,r,e){e=e||this.length;while(this.pos<e){var n=this.readVarint(),i=n>>3,o=this.pos;this.type=n&7;t(i,r,this);if(this.pos===o)this.skip(n)}return r},readMessage:function(t,r){return this.readFields(t,r,this.readVarint()+this.pos)},readFixed32:function(){var t=S(this.buf,this.pos);this.pos+=4;return t},readSFixed32:function(){var t=M(this.buf,this.pos);this.pos+=4;return t},readFixed64:function(){var t=S(this.buf,this.pos)+S(this.buf,this.pos+4)*o;this.pos+=8;return t},readSFixed64:function(){var t=S(this.buf,this.pos)+M(this.buf,this.pos+4)*o;this.pos+=8;return t},readFloat:function(){var t=n.read(this.buf,this.pos,true,23,4);this.pos+=4;return t},readDouble:function(){var t=n.read(this.buf,this.pos,true,52,8);this.pos+=8;return t},readVarint:function(t){var r=this.buf,e,n;n=r[this.pos++];e=n&127;if(n<128)return e;n=r[this.pos++];e|=(n&127)<<7;if(n<128)return e;n=r[this.pos++];e|=(n&127)<<14;if(n<128)return e;n=r[this.pos++];e|=(n&127)<<21;if(n<128)return e;n=r[this.pos];e|=(n&15)<<28;return u(e,t,this)},readVarint64:function(){return this.readVarint(true)},readSVarint:function(){var t=this.readVarint();return t%2===1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,r=P(this.buf,this.pos,t);this.pos=t;return r},readBytes:function(){var t=this.readVarint()+this.pos,r=this.buf.subarray(this.pos,t);this.pos=t;return r},readPackedVarint:function(t,r){var e=s(this);t=t||[];while(this.pos<e)t.push(this.readVarint(r));return t},readPackedSVarint:function(t){var r=s(this);t=t||[];while(this.pos<r)t.push(this.readSVarint());return t},readPackedBoolean:function(t){var r=s(this);t=t||[];while(this.pos<r)t.push(this.readBoolean());return t},readPackedFloat:function(t){var r=s(this);t=t||[];while(this.pos<r)t.push(this.readFloat());return t},readPackedDouble:function(t){var r=s(this);t=t||[];while(this.pos<r)t.push(this.readDouble());return t},readPackedFixed32:function(t){var r=s(this);t=t||[];while(this.pos<r)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){var r=s(this);t=t||[];while(this.pos<r)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){var r=s(this);t=t||[];while(this.pos<r)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){var r=s(this);t=t||[];while(this.pos<r)t.push(this.readSFixed64());return t},skip:function(t){var r=t&7;if(r===i.Varint)while(this.buf[this.pos++]>127){}else if(r===i.Bytes)this.pos=this.readVarint()+this.pos;else if(r===i.Fixed32)this.pos+=4;else if(r===i.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+r)},writeTag:function(t,r){this.writeVarint(t<<3|r)},realloc:function(t){var r=this.length||16;while(r<this.pos+t)r*=2;if(r!==this.length){var e=new Uint8Array(r);e.set(this.buf);this.buf=e;this.length=r}},finish:function(){this.length=this.pos;this.pos=0;return this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4);F(this.buf,t,this.pos);this.pos+=4},writeSFixed32:function(t){this.realloc(4);F(this.buf,t,this.pos);this.pos+=4},writeFixed64:function(t){this.realloc(8);F(this.buf,t&-1,this.pos);F(this.buf,Math.floor(t*a),this.pos+4);this.pos+=8},writeSFixed64:function(t){this.realloc(8);F(this.buf,t&-1,this.pos);F(this.buf,Math.floor(t*a),this.pos+4);this.pos+=8},writeVarint:function(t){t=+t||0;if(t>268435455||t<0){c(t,this);return}this.realloc(4);this.buf[this.pos++]=t&127|(t>127?128:0);if(t<=127)return;this.buf[this.pos++]=(t>>>=7)&127|(t>127?128:0);if(t<=127)return;this.buf[this.pos++]=(t>>>=7)&127|(t>127?128:0);if(t<=127)return;this.buf[this.pos++]=t>>>7&127},writeSVarint:function(t){this.writeVarint(t<0?-t*2-1:t*2)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t);this.realloc(t.length*4);this.pos++;var r=this.pos;this.pos=V(this.buf,t,this.pos);var e=this.pos-r;if(e>=128)l(r,e,this);this.pos=r-1;this.writeVarint(e);this.pos+=e},writeFloat:function(t){this.realloc(4);n.write(this.buf,t,this.pos,true,23,4);this.pos+=4},writeDouble:function(t){this.realloc(8);n.write(this.buf,t,this.pos,true,52,8);this.pos+=8},writeBytes:function(t){var r=t.length;this.writeVarint(r);this.realloc(r);for(var e=0;e<r;e++)this.buf[this.pos++]=t[e]},writeRawMessage:function(t,r){this.pos++;var e=this.pos;t(r,this);var n=this.pos-e;if(n>=128)l(e,n,this);this.pos=e-1;this.writeVarint(n);this.pos+=n},writeMessage:function(t,r,e){this.writeTag(t,i.Bytes);this.writeRawMessage(r,e)},writePackedVarint:function(t,r){this.writeMessage(t,p,r)},writePackedSVarint:function(t,r){this.writeMessage(t,d,r)},writePackedBoolean:function(t,r){this.writeMessage(t,x,r)},writePackedFloat:function(t,r){this.writeMessage(t,y,r)},writePackedDouble:function(t,r){this.writeMessage(t,w,r)},writePackedFixed32:function(t,r){this.writeMessage(t,g,r)},writePackedSFixed32:function(t,r){this.writeMessage(t,_,r)},writePackedFixed64:function(t,r){this.writeMessage(t,m,r)},writePackedSFixed64:function(t,r){this.writeMessage(t,b,r)},writeBytesField:function(t,r){this.writeTag(t,i.Bytes);this.writeBytes(r)},writeFixed32Field:function(t,r){this.writeTag(t,i.Fixed32);this.writeFixed32(r)},writeSFixed32Field:function(t,r){this.writeTag(t,i.Fixed32);this.writeSFixed32(r)},writeFixed64Field:function(t,r){this.writeTag(t,i.Fixed64);this.writeFixed64(r)},writeSFixed64Field:function(t,r){this.writeTag(t,i.Fixed64);this.writeSFixed64(r)},writeVarintField:function(t,r){this.writeTag(t,i.Varint);this.writeVarint(r)},writeSVarintField:function(t,r){this.writeTag(t,i.Varint);this.writeSVarint(r)},writeStringField:function(t,r){this.writeTag(t,i.Bytes);this.writeString(r)},writeFloatField:function(t,r){this.writeTag(t,i.Fixed32);this.writeFloat(r)},writeDoubleField:function(t,r){this.writeTag(t,i.Fixed64);this.writeDouble(r)},writeBooleanField:function(t,r){this.writeVarintField(t,Boolean(r))}};function u(t,r,e){var n=e.buf,i,o;o=n[e.pos++];i=(o&112)>>4;if(o<128)return f(t,i,r);o=n[e.pos++];i|=(o&127)<<3;if(o<128)return f(t,i,r);o=n[e.pos++];i|=(o&127)<<10;if(o<128)return f(t,i,r);o=n[e.pos++];i|=(o&127)<<17;if(o<128)return f(t,i,r);o=n[e.pos++];i|=(o&127)<<24;if(o<128)return f(t,i,r);o=n[e.pos++];i|=(o&1)<<31;if(o<128)return f(t,i,r);throw new Error("Expected varint not more than 10 bytes")}function s(t){return t.type===i.Bytes?t.readVarint()+t.pos:t.pos+1}function f(t,r,e){if(e){return r*4294967296+(t>>>0)}return(r>>>0)*4294967296+(t>>>0)}function c(t,r){var e,n;if(t>=0){e=t%4294967296|0;n=t/4294967296|0}else{e=~(-t%4294967296);n=~(-t/4294967296);if(e^4294967295){e=e+1|0}else{e=0;n=n+1|0}}if(t>=0x10000000000000000||t<-0x10000000000000000){throw new Error("Given varint doesn't fit into 10 bytes")}r.realloc(10);v(e,n,r);h(n,r)}function v(t,r,e){e.buf[e.pos++]=t&127|128;t>>>=7;e.buf[e.pos++]=t&127|128;t>>>=7;e.buf[e.pos++]=t&127|128;t>>>=7;e.buf[e.pos++]=t&127|128;t>>>=7;e.buf[e.pos]=t&127}function h(t,r){var e=(t&7)<<4;r.buf[r.pos++]|=e|((t>>>=3)?128:0);if(!t)return;r.buf[r.pos++]=t&127|((t>>>=7)?128:0);if(!t)return;r.buf[r.pos++]=t&127|((t>>>=7)?128:0);if(!t)return;r.buf[r.pos++]=t&127|((t>>>=7)?128:0);if(!t)return;r.buf[r.pos++]=t&127|((t>>>=7)?128:0);if(!t)return;r.buf[r.pos++]=t&127}function l(t,r,e){var n=r<=16383?1:r<=2097151?2:r<=268435455?3:Math.ceil(Math.log(r)/(Math.LN2*7));e.realloc(n);for(var i=e.pos-1;i>=t;i--)e.buf[i+n]=e.buf[i]}function p(t,r){for(var e=0;e<t.length;e++)r.writeVarint(t[e])}function d(t,r){for(var e=0;e<t.length;e++)r.writeSVarint(t[e])}function y(t,r){for(var e=0;e<t.length;e++)r.writeFloat(t[e])}function w(t,r){for(var e=0;e<t.length;e++)r.writeDouble(t[e])}function x(t,r){for(var e=0;e<t.length;e++)r.writeBoolean(t[e])}function g(t,r){for(var e=0;e<t.length;e++)r.writeFixed32(t[e])}function _(t,r){for(var e=0;e<t.length;e++)r.writeSFixed32(t[e])}function m(t,r){for(var e=0;e<t.length;e++)r.writeFixed64(t[e])}function b(t,r){for(var e=0;e<t.length;e++)r.writeSFixed64(t[e])}function S(t,r){return(t[r]|t[r+1]<<8|t[r+2]<<16)+t[r+3]*16777216}function F(t,r,e){t[e]=r;t[e+1]=r>>>8;t[e+2]=r>>>16;t[e+3]=r>>>24}function M(t,r){return(t[r]|t[r+1]<<8|t[r+2]<<16)+(t[r+3]<<24)}function P(t,r,e){var n="";var i=r;while(i<e){var o=t[i];var a=null;var u=o>239?4:o>223?3:o>191?2:1;if(i+u>e)break;var s,f,c;if(u===1){if(o<128){a=o}}else if(u===2){s=t[i+1];if((s&192)===128){a=(o&31)<<6|s&63;if(a<=127){a=null}}}else if(u===3){s=t[i+1];f=t[i+2];if((s&192)===128&&(f&192)===128){a=(o&15)<<12|(s&63)<<6|f&63;if(a<=2047||a>=55296&&a<=57343){a=null}}}else if(u===4){s=t[i+1];f=t[i+2];c=t[i+3];if((s&192)===128&&(f&192)===128&&(c&192)===128){a=(o&15)<<18|(s&63)<<12|(f&63)<<6|c&63;if(a<=65535||a>=1114112){a=null}}}if(a===null){a=65533;u=1}else if(a>65535){a-=65536;n+=String.fromCharCode(a>>>10&1023|55296);a=56320|a&1023}n+=String.fromCharCode(a);i+=u}return n}function V(t,r,e){for(var n=0,i,o;n<r.length;n++){i=r.charCodeAt(n);if(i>55295&&i<57344){if(o){if(i<56320){t[e++]=239;t[e++]=191;t[e++]=189;o=i;continue}else{i=o-55296<<10|i-56320|65536;o=null}}else{if(i>56319||n+1===r.length){t[e++]=239;t[e++]=191;t[e++]=189}else{o=i}continue}}else if(o){t[e++]=239;t[e++]=191;t[e++]=189;o=null}if(i<128){t[e++]=i}else{if(i<2048){t[e++]=i>>6|192}else{if(i<65536){t[e++]=i>>12|224}else{t[e++]=i>>18|240;t[e++]=i>>12&63|128}t[e++]=i>>6&63|128}t[e++]=i&63|128}}return e}},function(t,r){r.read=function(t,r,e,n,i){var o,a;var u=i*8-n-1;var s=(1<<u)-1;var f=s>>1;var c=-7;var v=e?i-1:0;var h=e?-1:1;var l=t[r+v];v+=h;o=l&(1<<-c)-1;l>>=-c;c+=u;for(;c>0;o=o*256+t[r+v],v+=h,c-=8){}a=o&(1<<-c)-1;o>>=-c;c+=n;for(;c>0;a=a*256+t[r+v],v+=h,c-=8){}if(o===0){o=1-f}else if(o===s){return a?NaN:(l?-1:1)*Infinity}else{a=a+Math.pow(2,n);o=o-f}return(l?-1:1)*a*Math.pow(2,o-n)};r.write=function(t,r,e,n,i,o){var a,u,s;var f=o*8-i-1;var c=(1<<f)-1;var v=c>>1;var h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0;var l=n?0:o-1;var p=n?1:-1;var d=r<0||r===0&&1/r<0?1:0;r=Math.abs(r);if(isNaN(r)||r===Infinity){u=isNaN(r)?1:0;a=c}else{a=Math.floor(Math.log(r)/Math.LN2);if(r*(s=Math.pow(2,-a))<1){a--;s*=2}if(a+v>=1){r+=h/s}else{r+=h*Math.pow(2,1-v)}if(r*s>=2){a++;s/=2}if(a+v>=c){u=0;a=c}else if(a+v>=1){u=(r*s-1)*Math.pow(2,i);a=a+v}else{u=r*Math.pow(2,v-1)*Math.pow(2,i);a=0}}for(;i>=8;t[e+l]=u&255,l+=p,u/=256,i-=8){}a=a<<i|u;f+=i;for(;f>0;t[e+l]=a&255,l+=p,a/=256,f-=8){}t[e+l-p]|=d*128}}]);